<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Generic key-value database."><title>KeyValueDB in kvdb - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-f3501f0f5ae15dfb.css" id="mainThemeStyle"><div id="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="kvdb" data-themes="" data-resource-suffix="" data-rustdoc-version="1.71.1 (eb26296b5 2023-08-03)" data-search-js="search-4926e5fc22a5646a.js" data-settings-js="settings-de11bff964e9d4e5.js" data-settings-css="settings-8c76f75bfb6bd192.css" data-theme-light-css="light-0f8c037637f9eb3e.css" data-theme-dark-css="dark-1097f8e92a01e3cf.css" data-theme-ayu-css="ayu-614652228113ac93.css" ></div><script src="../static.files/storage-62ce34ea385b278a.js"></script><script defer src="sidebar-items.js"></script><script defer src="../static.files/main-f0540c1d82cde29b.js"></script><noscript><link rel="stylesheet" media="(prefers-color-scheme:light)" href="../static.files/light-0f8c037637f9eb3e.css"><link rel="stylesheet" media="(prefers-color-scheme:dark)" href="../static.files/dark-1097f8e92a01e3cf.css"><link rel="stylesheet" href="../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../kvdb/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../kvdb/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">KeyValueDB</a></h2><div class="sidebar-elems"><section><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.get">get</a></li><li><a href="#tymethod.get_by_prefix">get_by_prefix</a></li><li><a href="#tymethod.iter">iter</a></li><li><a href="#tymethod.iter_with_prefix">iter_with_prefix</a></li><li><a href="#tymethod.write">write</a></li></ul><h3><a href="#provided-methods">Provided Methods</a></h3><ul class="block"><li><a href="#method.has_key">has_key</a></li><li><a href="#method.has_prefix">has_prefix</a></li><li><a href="#method.io_stats">io_stats</a></li><li><a href="#method.transaction">transaction</a></li></ul><h3><a href="#implementors">Implementors</a></h3></section><h2><a href="index.html">In kvdb</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Trait <a href="index.html">kvdb</a>::<wbr><a class="trait" href="#">KeyValueDB</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../src/kvdb/lib.rs.html#107-152">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub trait KeyValueDB: <a class="trait" href="https://doc.rust-lang.org/1.71.1/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> + <a class="trait" href="https://doc.rust-lang.org/1.71.1/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> {
    // Required methods
    fn <a href="#tymethod.get" class="fn">get</a>(&amp;self, col: <a class="primitive" href="https://doc.rust-lang.org/1.71.1/std/primitive.u32.html">u32</a>, key: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.71.1/std/primitive.u8.html">u8</a>]) -&gt; <a class="type" href="https://doc.rust-lang.org/1.71.1/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="enum" href="https://doc.rust-lang.org/1.71.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="type.DBValue.html" title="type kvdb::DBValue">DBValue</a>&gt;&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.get_by_prefix" class="fn">get_by_prefix</a>(&amp;self, col: <a class="primitive" href="https://doc.rust-lang.org/1.71.1/std/primitive.u32.html">u32</a>, prefix: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.71.1/std/primitive.u8.html">u8</a>]) -&gt; <a class="type" href="https://doc.rust-lang.org/1.71.1/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="enum" href="https://doc.rust-lang.org/1.71.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="type.DBValue.html" title="type kvdb::DBValue">DBValue</a>&gt;&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.write" class="fn">write</a>(&amp;self, transaction: <a class="struct" href="struct.DBTransaction.html" title="struct kvdb::DBTransaction">DBTransaction</a>) -&gt; <a class="type" href="https://doc.rust-lang.org/1.71.1/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.71.1/std/primitive.unit.html">()</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.iter" class="fn">iter</a>&lt;'a&gt;(
        &amp;'a self,
        col: <a class="primitive" href="https://doc.rust-lang.org/1.71.1/std/primitive.u32.html">u32</a>
    ) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.71.1/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.71.1/core/iter/traits/iterator/trait.Iterator.html" title="trait core::iter::traits::iterator::Iterator">Iterator</a>&lt;Item = <a class="type" href="https://doc.rust-lang.org/1.71.1/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="type" href="type.DBKeyValue.html" title="type kvdb::DBKeyValue">DBKeyValue</a>&gt;&gt; + 'a&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.iter_with_prefix" class="fn">iter_with_prefix</a>&lt;'a&gt;(
        &amp;'a self,
        col: <a class="primitive" href="https://doc.rust-lang.org/1.71.1/std/primitive.u32.html">u32</a>,
        prefix: &amp;'a [<a class="primitive" href="https://doc.rust-lang.org/1.71.1/std/primitive.u8.html">u8</a>]
    ) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.71.1/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.71.1/core/iter/traits/iterator/trait.Iterator.html" title="trait core::iter::traits::iterator::Iterator">Iterator</a>&lt;Item = <a class="type" href="https://doc.rust-lang.org/1.71.1/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="type" href="type.DBKeyValue.html" title="type kvdb::DBKeyValue">DBKeyValue</a>&gt;&gt; + 'a&gt;;

    // Provided methods
    fn <a href="#method.transaction" class="fn">transaction</a>(&amp;self) -&gt; <a class="struct" href="struct.DBTransaction.html" title="struct kvdb::DBTransaction">DBTransaction</a> { ... }
<span class="item-spacer"></span>    fn <a href="#method.io_stats" class="fn">io_stats</a>(&amp;self, _kind: <a class="enum" href="enum.IoStatsKind.html" title="enum kvdb::IoStatsKind">IoStatsKind</a>) -&gt; <a class="struct" href="struct.IoStats.html" title="struct kvdb::IoStats">IoStats</a> { ... }
<span class="item-spacer"></span>    fn <a href="#method.has_key" class="fn">has_key</a>(&amp;self, col: <a class="primitive" href="https://doc.rust-lang.org/1.71.1/std/primitive.u32.html">u32</a>, key: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.71.1/std/primitive.u8.html">u8</a>]) -&gt; <a class="type" href="https://doc.rust-lang.org/1.71.1/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.71.1/std/primitive.bool.html">bool</a>&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.has_prefix" class="fn">has_prefix</a>(&amp;self, col: <a class="primitive" href="https://doc.rust-lang.org/1.71.1/std/primitive.u32.html">u32</a>, prefix: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.71.1/std/primitive.u8.html">u8</a>]) -&gt; <a class="type" href="https://doc.rust-lang.org/1.71.1/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.71.1/std/primitive.bool.html">bool</a>&gt; { ... }
}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Generic key-value database.</p>
<p>The <code>KeyValueDB</code> deals with “column families”, which can be thought of as distinct
stores within a database. Keys written in one column family will not be accessible from
any other. The number of column families must be specified at initialization, with a
differing interface for each database.</p>
<p>The API laid out here, along with the <code>Sync</code> bound implies interior synchronization for
implementation.</p>
</div></details><h2 id="required-methods" class="small-section-header">Required Methods<a href="#required-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="tymethod.get" class="method"><a class="srclink rightside" href="../src/kvdb/lib.rs.html#114">source</a><h4 class="code-header">fn <a href="#tymethod.get" class="fn">get</a>(&amp;self, col: <a class="primitive" href="https://doc.rust-lang.org/1.71.1/std/primitive.u32.html">u32</a>, key: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.71.1/std/primitive.u8.html">u8</a>]) -&gt; <a class="type" href="https://doc.rust-lang.org/1.71.1/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="enum" href="https://doc.rust-lang.org/1.71.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="type.DBValue.html" title="type kvdb::DBValue">DBValue</a>&gt;&gt;</h4></section></summary><div class="docblock"><p>Get a value by key.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.get_by_prefix" class="method"><a class="srclink rightside" href="../src/kvdb/lib.rs.html#117">source</a><h4 class="code-header">fn <a href="#tymethod.get_by_prefix" class="fn">get_by_prefix</a>(&amp;self, col: <a class="primitive" href="https://doc.rust-lang.org/1.71.1/std/primitive.u32.html">u32</a>, prefix: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.71.1/std/primitive.u8.html">u8</a>]) -&gt; <a class="type" href="https://doc.rust-lang.org/1.71.1/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="enum" href="https://doc.rust-lang.org/1.71.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="type.DBValue.html" title="type kvdb::DBValue">DBValue</a>&gt;&gt;</h4></section></summary><div class="docblock"><p>Get the first value matching the given prefix.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.write" class="method"><a class="srclink rightside" href="../src/kvdb/lib.rs.html#120">source</a><h4 class="code-header">fn <a href="#tymethod.write" class="fn">write</a>(&amp;self, transaction: <a class="struct" href="struct.DBTransaction.html" title="struct kvdb::DBTransaction">DBTransaction</a>) -&gt; <a class="type" href="https://doc.rust-lang.org/1.71.1/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.71.1/std/primitive.unit.html">()</a>&gt;</h4></section></summary><div class="docblock"><p>Write a transaction of changes to the backing store.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.iter" class="method"><a class="srclink rightside" href="../src/kvdb/lib.rs.html#123">source</a><h4 class="code-header">fn <a href="#tymethod.iter" class="fn">iter</a>&lt;'a&gt;(
    &amp;'a self,
    col: <a class="primitive" href="https://doc.rust-lang.org/1.71.1/std/primitive.u32.html">u32</a>
) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.71.1/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.71.1/core/iter/traits/iterator/trait.Iterator.html" title="trait core::iter::traits::iterator::Iterator">Iterator</a>&lt;Item = <a class="type" href="https://doc.rust-lang.org/1.71.1/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="type" href="type.DBKeyValue.html" title="type kvdb::DBKeyValue">DBKeyValue</a>&gt;&gt; + 'a&gt;</h4></section></summary><div class="docblock"><p>Iterate over the data for a given column.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.iter_with_prefix" class="method"><a class="srclink rightside" href="../src/kvdb/lib.rs.html#127-131">source</a><h4 class="code-header">fn <a href="#tymethod.iter_with_prefix" class="fn">iter_with_prefix</a>&lt;'a&gt;(
    &amp;'a self,
    col: <a class="primitive" href="https://doc.rust-lang.org/1.71.1/std/primitive.u32.html">u32</a>,
    prefix: &amp;'a [<a class="primitive" href="https://doc.rust-lang.org/1.71.1/std/primitive.u8.html">u8</a>]
) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.71.1/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/1.71.1/core/iter/traits/iterator/trait.Iterator.html" title="trait core::iter::traits::iterator::Iterator">Iterator</a>&lt;Item = <a class="type" href="https://doc.rust-lang.org/1.71.1/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="type" href="type.DBKeyValue.html" title="type kvdb::DBKeyValue">DBKeyValue</a>&gt;&gt; + 'a&gt;</h4></section></summary><div class="docblock"><p>Iterate over the data for a given column, returning all key/value pairs
where the key starts with the given prefix.</p>
</div></details></div><h2 id="provided-methods" class="small-section-header">Provided Methods<a href="#provided-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="method.transaction" class="method"><a class="srclink rightside" href="../src/kvdb/lib.rs.html#109-111">source</a><h4 class="code-header">fn <a href="#method.transaction" class="fn">transaction</a>(&amp;self) -&gt; <a class="struct" href="struct.DBTransaction.html" title="struct kvdb::DBTransaction">DBTransaction</a></h4></section></summary><div class="docblock"><p>Helper to create a new transaction.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.io_stats" class="method"><a class="srclink rightside" href="../src/kvdb/lib.rs.html#139-141">source</a><h4 class="code-header">fn <a href="#method.io_stats" class="fn">io_stats</a>(&amp;self, _kind: <a class="enum" href="enum.IoStatsKind.html" title="enum kvdb::IoStatsKind">IoStatsKind</a>) -&gt; <a class="struct" href="struct.IoStats.html" title="struct kvdb::IoStats">IoStats</a></h4></section></summary><div class="docblock"><p>Query statistics.</p>
<p>Not all kvdb implementations are able or expected to implement this, so by
default, empty statistics is returned. Also, not all kvdb implementations
can return every statistic or configured to do so (some statistics gathering
may impede the performance and might be off by default).</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.has_key" class="method"><a class="srclink rightside" href="../src/kvdb/lib.rs.html#144-146">source</a><h4 class="code-header">fn <a href="#method.has_key" class="fn">has_key</a>(&amp;self, col: <a class="primitive" href="https://doc.rust-lang.org/1.71.1/std/primitive.u32.html">u32</a>, key: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.71.1/std/primitive.u8.html">u8</a>]) -&gt; <a class="type" href="https://doc.rust-lang.org/1.71.1/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.71.1/std/primitive.bool.html">bool</a>&gt;</h4></section></summary><div class="docblock"><p>Check for the existence of a value by key.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.has_prefix" class="method"><a class="srclink rightside" href="../src/kvdb/lib.rs.html#149-151">source</a><h4 class="code-header">fn <a href="#method.has_prefix" class="fn">has_prefix</a>(&amp;self, col: <a class="primitive" href="https://doc.rust-lang.org/1.71.1/std/primitive.u32.html">u32</a>, prefix: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.71.1/std/primitive.u8.html">u8</a>]) -&gt; <a class="type" href="https://doc.rust-lang.org/1.71.1/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.71.1/std/primitive.bool.html">bool</a>&gt;</h4></section></summary><div class="docblock"><p>Check for the existence of a value by prefix.</p>
</div></details></div><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"></div><script src="../implementors/kvdb/trait.KeyValueDB.js" async></script></section></div></main></body></html>