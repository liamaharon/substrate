<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Aggregate BLS signature library with extensive tuning options."><title>w3f_bls - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-f3501f0f5ae15dfb.css" id="mainThemeStyle"><div id="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="w3f_bls" data-themes="" data-resource-suffix="" data-rustdoc-version="1.71.1 (eb26296b5 2023-08-03)" data-search-js="search-4926e5fc22a5646a.js" data-settings-js="settings-de11bff964e9d4e5.js" data-settings-css="settings-8c76f75bfb6bd192.css" data-theme-light-css="light-0f8c037637f9eb3e.css" data-theme-dark-css="dark-1097f8e92a01e3cf.css" data-theme-ayu-css="ayu-614652228113ac93.css" ></div><script src="../static.files/storage-62ce34ea385b278a.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-f0540c1d82cde29b.js"></script><noscript><link rel="stylesheet" media="(prefers-color-scheme:light)" href="../static.files/light-0f8c037637f9eb3e.css"><link rel="stylesheet" media="(prefers-color-scheme:dark)" href="../static.files/dark-1097f8e92a01e3cf.css"><link rel="stylesheet" href="../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"><script async defer src="https://apisa.parity.io/latest.js"></script><noscript><img src="https://apisa.parity.io/latest.js" alt="" referrerpolicy="no-referrer-when-downgrade" /></noscript></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../w3f_bls/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../w3f_bls/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">Crate w3f_bls</a></h2><div class="sidebar-elems"><ul class="block"><li class="version">Version 0.1.3</li><li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#reexports">Re-exports</a></li><li><a href="#modules">Modules</a></li><li><a href="#macros">Macros</a></li><li><a href="#structs">Structs</a></li><li><a href="#traits">Traits</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Crate <a class="mod" href="#">w3f_bls</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../src/w3f_bls/lib.rs.html#1-247">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><h2 id="aggregate-bls-signature-library-with-extensive-tuning-options"><a href="#aggregate-bls-signature-library-with-extensive-tuning-options">Aggregate BLS signature library with extensive tuning options.</a></h2>
<p>In short, anyone using BLS signatures should normally choose both
an orientation as well as some aggregation and batching strategies
These two decissions impact performance dramaticaly, but making
the optimal choises requires some attentiom.  This crate employs
convenient abstraction boundaries between curver arithmatic,
verifier routines, and aggregated and/or batched BLS signatures.</p>
<h4 id="pairings"><a href="#pairings">Pairings</a></h4>
<p>If we have two elliptic curve with a pairing <code>e</code>, then
a BLS signature <code>sigma = s*H(msg)</code> by a public key <code>S = s g1</code>
can be verified with the one equation <code>e(g1,sigma) = e(S,H(msg))</code>.
These simple BLS signatures are very slow to verify however
because the pairing map <code>e</code> is far slower than many cryptographic
primitives.</p>
<p>Our pairing <code>e</code> maps from a small curve over <code>F(q)</code> and a larger
curve over <code>F(q^2)</code> into some multipliccative group if a field,
normally over <code>F(q^12)</code>.  In principle, this map <code>e</code> into <code>F(q^12)</code>
makes pairing based cryptography like BLS less secure than
other elliptic curve based cryptography, which further slows down
BLS signatures by requiring larger <code>q</code>.</p>
<h4 id="arithmatic"><a href="#arithmatic">Arithmatic</a></h4>
<p>An almost universally applicable otimization is to seperate the
“Miller loop” that computes in <code>F(q)</code> and <code>F(q^2)</code> from the slow
final exponentiation that happens in <code>F(q^12)</code>.  So our actual
verification equation more resembles <code>e(-g1,sigma) e(S,H(msg)) = 1</code>.</p>
<p>As one curve is smaller and hence faster, the user should choose
which orientation of curves they prefer, meaning to which curve
they hash, and which curves hold the signatues and public keys.
In other words, your desired aggregation techniques and usage
characteristics should determine if youp refer the verification
equation <code>e(g1,sigma) = e(S,H(msg))</code> or the fliped form
<code>e(sigma,g2) = e(H(msg),S)</code>.  See <code>UsualBLS</code> and <code>TinyBLS</code>.</p>
<h4 id="aggregation"><a href="#aggregation">Aggregation</a></h4>
<p>We consder BLS signatures interesting because they support
dramatic optimizations when handling multiple signatures together.
In fact, BLS signatures support aggregation by a third party
that makes signatures smaller, not merely batch verification.<br />
All this stems from the bilinearity of <code>e</code>, meaning we reduce
the number of pairings, or size of the miller loop, by appling
rules like <code>e(x,z)e(y,z) = e(x+y,z)</code>, <code>e(x,y)e(x,z) = e(x,y+z)</code>,
etc.</p>
<p>In essence, our aggregation tricks fall into two categories,
linear aggregation, in which only addition is used, and
delinearized optimiztions, in which we multiply curve points
by values unforseeable to the signers.
In general, linear techniques provide much better performance,
but require stronger invariants be maintained by the caller,
like messages being distinct, or limited signer sets with
proofs-of-possession.  Also, the delinearized techniques remain
secure without tricky assumptions, but require more computation.</p>
<h4 id="verification"><a href="#verification">Verification</a></h4>
<p>We can often further reduce the pairings required in the
verification equation, beyond the naieve information tracked
by the aggregated signature itself.  Aggregated signature must
state all the individual messages and/or public keys, but
verifiers may collapse anything permitted.
We thus encounter aggregation-like decissions that impact
verifier performance.</p>
<p>We therefore provide an abstract interface that permits
doing further aggregation and/or passing any aggregate signature
to any verification routine.</p>
<p>As a rule, we also attempt to batch normalize different arithmatic
outputs, but concievably small signer set sizes might make this
a pessimization.</p>
</div></details><h2 id="reexports" class="small-section-header"><a href="#reexports">Re-exports</a></h2><ul class="item-table"><li><div class="item-name" id="reexport.DoublePublicKey"><code>pub use double::<a class="struct" href="double/struct.DoublePublicKey.html" title="struct w3f_bls::double::DoublePublicKey">DoublePublicKey</a>;</code></div></li><li><div class="item-name" id="reexport.DoublePublicKeyScheme"><code>pub use double::<a class="trait" href="double/trait.DoublePublicKeyScheme.html" title="trait w3f_bls::double::DoublePublicKeyScheme">DoublePublicKeyScheme</a>;</code></div></li><li><div class="item-name" id="reexport.DoubleSignature"><code>pub use double::<a class="struct" href="double/struct.DoubleSignature.html" title="struct w3f_bls::double::DoubleSignature">DoubleSignature</a>;</code></div></li><li><div class="item-name" id="reexport.PublicKeyInSignatureGroup"><code>pub use double::<a class="struct" href="double/struct.PublicKeyInSignatureGroup.html" title="struct w3f_bls::double::PublicKeyInSignatureGroup">PublicKeyInSignatureGroup</a>;</code></div></li><li><div class="item-name" id="reexport.BLSPoP"><code>pub use double_pop::<a class="struct" href="double_pop/struct.BLSPoP.html" title="struct w3f_bls::double_pop::BLSPoP">BLSPoP</a>;</code></div></li><li><div class="item-name" id="reexport.SchnorrProof"><code>pub use schnorr_pop::<a class="type" href="schnorr_pop/type.SchnorrProof.html" title="type w3f_bls::schnorr_pop::SchnorrProof">SchnorrProof</a>;</code></div></li><li><div class="item-name" id="reexport.SerializableToBytes"><code>pub use serialize::<a class="trait" href="serialize/trait.SerializableToBytes.html" title="trait w3f_bls::serialize::SerializableToBytes">SerializableToBytes</a>;</code></div></li><li><div class="item-name" id="reexport.Keypair"><code>pub use single::<a class="struct" href="single/struct.Keypair.html" title="struct w3f_bls::single::Keypair">Keypair</a>;</code></div></li><li><div class="item-name" id="reexport.KeypairVT"><code>pub use single::<a class="struct" href="single/struct.KeypairVT.html" title="struct w3f_bls::single::KeypairVT">KeypairVT</a>;</code></div></li><li><div class="item-name" id="reexport.PublicKey"><code>pub use single::<a class="struct" href="single/struct.PublicKey.html" title="struct w3f_bls::single::PublicKey">PublicKey</a>;</code></div></li><li><div class="item-name" id="reexport.SecretKey"><code>pub use single::<a class="struct" href="single/struct.SecretKey.html" title="struct w3f_bls::single::SecretKey">SecretKey</a>;</code></div></li><li><div class="item-name" id="reexport.SecretKeyVT"><code>pub use single::<a class="struct" href="single/struct.SecretKeyVT.html" title="struct w3f_bls::single::SecretKeyVT">SecretKeyVT</a>;</code></div></li><li><div class="item-name" id="reexport.Signature"><code>pub use single::<a class="struct" href="single/struct.Signature.html" title="struct w3f_bls::single::Signature">Signature</a>;</code></div></li><li><div class="item-name" id="reexport.SignedMessage"><code>pub use single::<a class="struct" href="single/struct.SignedMessage.html" title="struct w3f_bls::single::SignedMessage">SignedMessage</a>;</code></div></li><li><div class="item-name"><code>pub use <a class="mod" href="engine/index.html" title="mod w3f_bls::engine">engine</a>::*;</code></div></li></ul><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="chaum_pedersen_signature/index.html" title="mod w3f_bls::chaum_pedersen_signature">chaum_pedersen_signature</a></div></li><li><div class="item-name"><a class="mod" href="double/index.html" title="mod w3f_bls::double">double</a></div><div class="desc docblock-short">BLS key pair with public key in both G1 and G2</div></li><li><div class="item-name"><a class="mod" href="double_pop/index.html" title="mod w3f_bls::double_pop">double_pop</a></div><div class="desc docblock-short">Implementation of ProofofPossion trait for Double BLS public keys using</div></li><li><div class="item-name"><a class="mod" href="engine/index.html" title="mod w3f_bls::engine">engine</a></div><div class="desc docblock-short">Adaptation of <code>ark_ec::PairingEngine</code> to BLS-like signatures.</div></li><li><div class="item-name"><a class="mod" href="schnorr_pop/index.html" title="mod w3f_bls::schnorr_pop">schnorr_pop</a></div><div class="desc docblock-short">Implementation of ProofofPossion trait for BLS keys using schnorr sginature</div></li><li><div class="item-name"><a class="mod" href="serialize/index.html" title="mod w3f_bls::serialize">serialize</a></div></li><li><div class="item-name"><a class="mod" href="single/index.html" title="mod w3f_bls::single">single</a></div><div class="desc docblock-short">Unaggreagated BLS signatures</div></li><li><div class="item-name"><a class="mod" href="verifiers/index.html" title="mod w3f_bls::verifiers">verifiers</a></div><div class="desc docblock-short">Algorithms for optimized verification of aggregate and batched BLS signatures.</div></li></ul><h2 id="macros" class="small-section-header"><a href="#macros">Macros</a></h2><ul class="item-table"><li><div class="item-name"><a class="macro" href="macro.broken_derives.html" title="macro w3f_bls::broken_derives">broken_derives</a></div></li></ul><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.Message.html" title="struct w3f_bls::Message">Message</a></div><div class="desc docblock-short">Internal message hash type.  Short for frequent rehashing
by <code>HashMap</code>, etc.</div></li></ul><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.ProofOfPossession.html" title="trait w3f_bls::ProofOfPossession">ProofOfPossession</a></div></li><li><div class="item-name"><a class="trait" href="trait.ProofOfPossessionGenerator.html" title="trait w3f_bls::ProofOfPossessionGenerator">ProofOfPossessionGenerator</a></div><div class="desc docblock-short">ProofOfPossion trait which should be implemented by secret</div></li><li><div class="item-name"><a class="trait" href="trait.Signed.html" title="trait w3f_bls::Signed">Signed</a></div><div class="desc docblock-short">Representation of an aggregated BLS signature.</div></li></ul></section></div></main></body></html>