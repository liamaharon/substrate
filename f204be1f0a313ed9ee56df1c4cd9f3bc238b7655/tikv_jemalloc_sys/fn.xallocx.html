<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Resizes the previously-allocated memory region referenced by `ptr` in place to be at least `size` bytes, returning the real size of the allocation."><title>xallocx in tikv_jemalloc_sys - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-f3501f0f5ae15dfb.css" id="mainThemeStyle"><div id="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="tikv_jemalloc_sys" data-themes="" data-resource-suffix="" data-rustdoc-version="1.71.1 (eb26296b5 2023-08-03)" data-search-js="search-4926e5fc22a5646a.js" data-settings-js="settings-de11bff964e9d4e5.js" data-settings-css="settings-8c76f75bfb6bd192.css" data-theme-light-css="light-0f8c037637f9eb3e.css" data-theme-dark-css="dark-1097f8e92a01e3cf.css" data-theme-ayu-css="ayu-614652228113ac93.css" ></div><script src="../static.files/storage-62ce34ea385b278a.js"></script><script defer src="sidebar-items.js"></script><script defer src="../static.files/main-f0540c1d82cde29b.js"></script><noscript><link rel="stylesheet" media="(prefers-color-scheme:light)" href="../static.files/light-0f8c037637f9eb3e.css"><link rel="stylesheet" media="(prefers-color-scheme:dark)" href="../static.files/dark-1097f8e92a01e3cf.css"><link rel="stylesheet" href="../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"><script async defer src="https://apisa.parity.io/latest.js"></script><noscript><img src="https://apisa.parity.io/latest.js" alt="" referrerpolicy="no-referrer-when-downgrade" /></noscript></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../tikv_jemalloc_sys/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../tikv_jemalloc_sys/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><div class="sidebar-elems"><h2><a href="index.html">In tikv_jemalloc_sys</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Function <a href="index.html">tikv_jemalloc_sys</a>::<wbr><a class="fn" href="#">xallocx</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../src/tikv_jemalloc_sys/lib.rs.html#345">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub unsafe extern &quot;C&quot; fn xallocx(
    ptr: <a class="primitive" href="https://doc.rust-lang.org/1.71.1/core/primitive.pointer.html">*mut </a><a class="enum" href="https://doc.rust-lang.org/1.71.1/core/ffi/enum.c_void.html" title="enum core::ffi::c_void">c_void</a>,
    size: <a class="type" href="../libc/unix/type.size_t.html" title="type libc::unix::size_t">size_t</a>,
    extra: <a class="type" href="../libc/unix/type.size_t.html" title="type libc::unix::size_t">size_t</a>,
    flags: <a class="type" href="../libc/unix/type.c_int.html" title="type libc::unix::c_int">c_int</a>
) -&gt; <a class="type" href="../libc/unix/type.size_t.html" title="type libc::unix::size_t">size_t</a></code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Resizes the previously-allocated memory region referenced by <code>ptr</code> <em>in
place</em> to be at least <code>size</code> bytes, returning the real size of the
allocation.</p>
<p>Deallocates the old object pointed to by <code>ptr</code> and sets <code>ptr</code> to a new
object that has the size returned; the old a new objects share the same
base address. The contents of the new object are the same as that of the
old object prior to deallocation, up to the lesser of the new and old
sizes.</p>
<p>If <code>extra</code> is non-zero, an attempt is made to resize the allocation to
be at least <code>size + extra</code> bytes. Inability to allocate the <code>extra</code>
bytes will not by itself result in failure to resize.</p>
<p>The memory in the new object beyond the size of the old object is
obtained according to <code>flags</code> (it might be uninitialized).</p>
<h2 id="errors"><a href="#errors">Errors</a></h2>
<p>If the allocation cannot be adequately grown in place up to <code>size</code>, the
size returned is smaller than <code>size</code>.</p>
<p>Note:</p>
<ul>
<li>the size value returned can be larger than the size requested during
allocation</li>
<li>when shrinking an allocation, use the size returned to determine
whether the allocation was shrunk sufficiently or not.</li>
</ul>
<h2 id="safety"><a href="#safety">Safety</a></h2>
<p>The behavior is <em>undefined</em> if:</p>
<ul>
<li><code>size == 0</code>, or</li>
<li><code>size + extra &gt; size_t::max_value()</code>, or</li>
<li><code>ptr</code> does not match a pointer earlier returned by the memory
allocation functions of this crate, or</li>
<li>the memory region referenced by <code>ptr</code> has been deallocated.</li>
</ul>
</div></details></section></div></main></body></html>