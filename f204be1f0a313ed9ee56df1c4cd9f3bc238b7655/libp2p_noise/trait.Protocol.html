<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="A Noise protocol over DH keys of type `C`. The choice of `C` determines the protocol parameters for each handshake pattern."><title>Protocol in libp2p_noise - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-f3501f0f5ae15dfb.css" id="mainThemeStyle"><div id="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="libp2p_noise" data-themes="" data-resource-suffix="" data-rustdoc-version="1.71.1 (eb26296b5 2023-08-03)" data-search-js="search-4926e5fc22a5646a.js" data-settings-js="settings-de11bff964e9d4e5.js" data-settings-css="settings-8c76f75bfb6bd192.css" data-theme-light-css="light-0f8c037637f9eb3e.css" data-theme-dark-css="dark-1097f8e92a01e3cf.css" data-theme-ayu-css="ayu-614652228113ac93.css" ></div><script src="../static.files/storage-62ce34ea385b278a.js"></script><script defer src="sidebar-items.js"></script><script defer src="../static.files/main-f0540c1d82cde29b.js"></script><noscript><link rel="stylesheet" media="(prefers-color-scheme:light)" href="../static.files/light-0f8c037637f9eb3e.css"><link rel="stylesheet" media="(prefers-color-scheme:dark)" href="../static.files/dark-1097f8e92a01e3cf.css"><link rel="stylesheet" href="../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"><script async defer src="https://apisa.parity.io/latest.js"></script><noscript><img src="https://apisa.parity.io/latest.js" alt="" referrerpolicy="no-referrer-when-downgrade" /></noscript></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../libp2p_noise/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../libp2p_noise/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">Protocol</a></h2><div class="sidebar-elems"><section><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.params_ik">params_ik</a></li><li><a href="#tymethod.params_ix">params_ix</a></li><li><a href="#tymethod.params_xx">params_xx</a></li><li><a href="#tymethod.public_from_bytes">public_from_bytes</a></li></ul><h3><a href="#provided-methods">Provided Methods</a></h3><ul class="block"><li><a href="#method.linked">linked</a></li><li><a href="#method.sign">sign</a></li><li><a href="#method.verify">verify</a></li></ul><h3><a href="#implementors">Implementors</a></h3></section><h2><a href="index.html">In libp2p_noise</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press â€˜Sâ€™ to search, â€˜?â€™ for more optionsâ€¦" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Trait <a href="index.html">libp2p_noise</a>::<wbr><a class="trait" href="#">Protocol</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../src/libp2p_noise/protocol.rs.html#74-126">source</a> Â· <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub trait Protocol&lt;C&gt; {
    // Required methods
    fn <a href="#tymethod.params_ik" class="fn">params_ik</a>() -&gt; ProtocolParams;
<span class="item-spacer"></span>    fn <a href="#tymethod.params_ix" class="fn">params_ix</a>() -&gt; ProtocolParams;
<span class="item-spacer"></span>    fn <a href="#tymethod.params_xx" class="fn">params_xx</a>() -&gt; ProtocolParams;
<span class="item-spacer"></span>    fn <a href="#tymethod.public_from_bytes" class="fn">public_from_bytes</a>(s: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.71.1/std/primitive.u8.html">u8</a>]) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.71.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;PublicKey&lt;C&gt;, <a class="enum" href="enum.Error.html" title="enum libp2p_noise::Error">Error</a>&gt;;

    // Provided methods
    fn <a href="#method.linked" class="fn">linked</a>(id_pk: &amp;<a class="enum" href="../libp2p_identity/keypair/enum.PublicKey.html" title="enum libp2p_identity::keypair::PublicKey">PublicKey</a>, dh_pk: &amp;PublicKey&lt;C&gt;) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.71.1/std/primitive.bool.html">bool</a> { ... }
<span class="item-spacer"></span>    fn <a href="#method.verify" class="fn">verify</a>(
        id_pk: &amp;<a class="enum" href="../libp2p_identity/keypair/enum.PublicKey.html" title="enum libp2p_identity::keypair::PublicKey">PublicKey</a>,
        dh_pk: &amp;PublicKey&lt;C&gt;,
        sig: &amp;<a class="enum" href="https://doc.rust-lang.org/1.71.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.71.1/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.71.1/std/primitive.u8.html">u8</a>&gt;&gt;
    ) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.71.1/std/primitive.bool.html">bool</a>
       <span class="where">where C: <a class="trait" href="https://doc.rust-lang.org/1.71.1/core/convert/trait.AsRef.html" title="trait core::convert::AsRef">AsRef</a>&lt;[<a class="primitive" href="https://doc.rust-lang.org/1.71.1/std/primitive.u8.html">u8</a>]&gt;</span> { ... }
<span class="item-spacer"></span>    fn <a href="#method.sign" class="fn">sign</a>(id_keys: &amp;<a class="enum" href="../libp2p_identity/keypair/enum.Keypair.html" title="enum libp2p_identity::keypair::Keypair">Keypair</a>, dh_pk: &amp;PublicKey&lt;C&gt;) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.71.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.71.1/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.71.1/std/primitive.u8.html">u8</a>&gt;, <a class="enum" href="enum.Error.html" title="enum libp2p_noise::Error">Error</a>&gt;
       <span class="where">where C: <a class="trait" href="https://doc.rust-lang.org/1.71.1/core/convert/trait.AsRef.html" title="trait core::convert::AsRef">AsRef</a>&lt;[<a class="primitive" href="https://doc.rust-lang.org/1.71.1/std/primitive.u8.html">u8</a>]&gt;</span> { ... }
}</code></pre><span class="item-info"><div class="stab deprecated"><span class="emoji">ðŸ‘Ž</span><span>Deprecated: This type will be made private in the future. Use <code>libp2p_noise::Config::new</code> instead to use the noise protocol.</span></div></span><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>A Noise protocol over DH keys of type <code>C</code>. The choice of <code>C</code> determines the
protocol parameters for each handshake pattern.</p>
</div></details><h2 id="required-methods" class="small-section-header">Required Methods<a href="#required-methods" class="anchor">Â§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="tymethod.params_ik" class="method"><a class="srclink rightside" href="../src/libp2p_noise/protocol.rs.html#76">source</a><h4 class="code-header">fn <a href="#tymethod.params_ik" class="fn">params_ik</a>() -&gt; ProtocolParams</h4></section></summary><span class="item-info"><div class="stab deprecated"><span class="emoji">ðŸ‘Ž</span><span>Deprecated: This type will be made private in the future. Use <code>libp2p_noise::Config::new</code> instead to use the noise protocol.</span></div></span><div class="docblock"><p>The protocol parameters for the IK handshake pattern.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.params_ix" class="method"><a class="srclink rightside" href="../src/libp2p_noise/protocol.rs.html#78">source</a><h4 class="code-header">fn <a href="#tymethod.params_ix" class="fn">params_ix</a>() -&gt; ProtocolParams</h4></section></summary><span class="item-info"><div class="stab deprecated"><span class="emoji">ðŸ‘Ž</span><span>Deprecated: This type will be made private in the future. Use <code>libp2p_noise::Config::new</code> instead to use the noise protocol.</span></div></span><div class="docblock"><p>The protocol parameters for the IX handshake pattern.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.params_xx" class="method"><a class="srclink rightside" href="../src/libp2p_noise/protocol.rs.html#80">source</a><h4 class="code-header">fn <a href="#tymethod.params_xx" class="fn">params_xx</a>() -&gt; ProtocolParams</h4></section></summary><span class="item-info"><div class="stab deprecated"><span class="emoji">ðŸ‘Ž</span><span>Deprecated: This type will be made private in the future. Use <code>libp2p_noise::Config::new</code> instead to use the noise protocol.</span></div></span><div class="docblock"><p>The protocol parameters for the XX handshake pattern.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.public_from_bytes" class="method"><a class="srclink rightside" href="../src/libp2p_noise/protocol.rs.html#83">source</a><h4 class="code-header">fn <a href="#tymethod.public_from_bytes" class="fn">public_from_bytes</a>(s: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.71.1/std/primitive.u8.html">u8</a>]) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.71.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;PublicKey&lt;C&gt;, <a class="enum" href="enum.Error.html" title="enum libp2p_noise::Error">Error</a>&gt;</h4></section></summary><span class="item-info"><div class="stab deprecated"><span class="emoji">ðŸ‘Ž</span><span>Deprecated: This type will be made private in the future. Use <code>libp2p_noise::Config::new</code> instead to use the noise protocol.</span></div></span><div class="docblock"><p>Construct a DH public key from a byte slice.</p>
</div></details></div><h2 id="provided-methods" class="small-section-header">Provided Methods<a href="#provided-methods" class="anchor">Â§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="method.linked" class="method"><a class="srclink rightside" href="../src/libp2p_noise/protocol.rs.html#93-95">source</a><h4 class="code-header">fn <a href="#method.linked" class="fn">linked</a>(id_pk: &amp;<a class="enum" href="../libp2p_identity/keypair/enum.PublicKey.html" title="enum libp2p_identity::keypair::PublicKey">PublicKey</a>, dh_pk: &amp;PublicKey&lt;C&gt;) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.71.1/std/primitive.bool.html">bool</a></h4></section></summary><span class="item-info"><div class="stab deprecated"><span class="emoji">ðŸ‘Ž</span><span>Deprecated</span></div></span><div class="docblock"><p>Determines whether the authenticity of the given DH static public key
and public identity key is linked, i.e. that proof of ownership of a
secret key for the static DH public key implies that the key is
authentic w.r.t. the given public identity key.</p>
<p>The trivial case is when the keys are byte for byte identical.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.verify" class="method"><a class="srclink rightside" href="../src/libp2p_noise/protocol.rs.html#110-118">source</a><h4 class="code-header">fn <a href="#method.verify" class="fn">verify</a>(
    id_pk: &amp;<a class="enum" href="../libp2p_identity/keypair/enum.PublicKey.html" title="enum libp2p_identity::keypair::PublicKey">PublicKey</a>,
    dh_pk: &amp;PublicKey&lt;C&gt;,
    sig: &amp;<a class="enum" href="https://doc.rust-lang.org/1.71.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.71.1/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.71.1/std/primitive.u8.html">u8</a>&gt;&gt;
) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.71.1/std/primitive.bool.html">bool</a><span class="where fmt-newline">where
    C: <a class="trait" href="https://doc.rust-lang.org/1.71.1/core/convert/trait.AsRef.html" title="trait core::convert::AsRef">AsRef</a>&lt;[<a class="primitive" href="https://doc.rust-lang.org/1.71.1/std/primitive.u8.html">u8</a>]&gt;,</span></h4></section></summary><span class="item-info"><div class="stab deprecated"><span class="emoji">ðŸ‘Ž</span><span>Deprecated: This type will be made private in the future. Use <code>libp2p_noise::Config::new</code> instead to use the noise protocol.</span></div></span><div class="docblock"><p>Verifies that a given static DH public key is authentic w.r.t. a
given public identity key in the context of an optional signature.</p>
<p>The given static DH public key is assumed to already be authentic
in the sense that possession of a corresponding secret key has been
established, as is the case at the end of a Noise handshake involving
static DH keys.</p>
<p>If the public keys are <a href="trait.Protocol.html#method.linked" title="associated function libp2p_noise::Protocol::linked"><code>linked</code></a>, verification succeeds
without a signature, otherwise a signature over the static DH public key
must be given and is verified with the public identity key, establishing
the authenticity of the static DH public key w.r.t. the public identity key.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.sign" class="method"><a class="srclink rightside" href="../src/libp2p_noise/protocol.rs.html#120-125">source</a><h4 class="code-header">fn <a href="#method.sign" class="fn">sign</a>(id_keys: &amp;<a class="enum" href="../libp2p_identity/keypair/enum.Keypair.html" title="enum libp2p_identity::keypair::Keypair">Keypair</a>, dh_pk: &amp;PublicKey&lt;C&gt;) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.71.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.71.1/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.71.1/std/primitive.u8.html">u8</a>&gt;, <a class="enum" href="enum.Error.html" title="enum libp2p_noise::Error">Error</a>&gt;<span class="where fmt-newline">where
    C: <a class="trait" href="https://doc.rust-lang.org/1.71.1/core/convert/trait.AsRef.html" title="trait core::convert::AsRef">AsRef</a>&lt;[<a class="primitive" href="https://doc.rust-lang.org/1.71.1/std/primitive.u8.html">u8</a>]&gt;,</span></h4></section></summary><span class="item-info"><div class="stab deprecated"><span class="emoji">ðŸ‘Ž</span><span>Deprecated: This type will be made private in the future. Use <code>libp2p_noise::Config::new</code> instead to use the noise protocol.</span></div></span></details></div><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor">Â§</a></h2><div id="implementors-list"></div><script src="../implementors/libp2p_noise/protocol/trait.Protocol.js" async></script></section></div></main></body></html>